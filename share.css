/* ==== Sidebar (shared) ==== */
.sidebar-toggle{position:fixed;top:24px;left:24px;z-index:1201;background:#e53935;border:none;border-radius:10px;width:48px;height:48px;box-shadow:0 2px 12px rgba(0,0,0,.08);cursor:pointer;display:flex;align-items:center;justify-content:center}
.menu-icon{display:flex;flex-direction:column;gap:7px}
.menu-icon span{display:block;width:26px;height:4px;background:#fff;border-radius:3px}
#sidebar{position:fixed;top:0;left:0;height:100vh;width:220px;background:#e53935;box-shadow:3px 0 16px rgba(0,0,0,.18);padding:30px 0 0;z-index:1300;transform:translateX(-105%);transition:transform .3s cubic-bezier(.5,1.8,.6,.9);border-top-right-radius:24px;border-bottom-right-radius:24px}
#sidebar.open{transform:translateX(0)}
#sidebar .close-btn{position:absolute;top:14px;right:16px;font-size:2.1rem;color:#fff;background:none;border:none;cursor:pointer}
#sidebar .menu{margin:48px 0 0;padding:0;list-style:none;display:flex;flex-direction:column;gap:22px;align-items:flex-start}
#sidebar .menu-item a{color:#fff;font-size:1.16rem;text-decoration:none;font-weight:500;padding:8px 36px;border-radius:10px;display:block;transition:background .13s}
#sidebar .menu-item a:hover,#sidebar .menu-item a.active{background:#fff2}
#logout-link a{color:#ffcdd2!important;font-weight:600}
#logout-link a:hover{background:#b71c1c!important;color:#fff!important}
.overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(80,10,10,.13);z-index:1200;opacity:0;pointer-events:none;transition:opacity .25s}
.overlay.active{opacity:1;pointer-events:auto}
@media (max-width:600px){#sidebar{width:85vw;border-radius:0 18px 18px 0}.sidebar-toggle{top:14px;left:14px;width:42px;height:42px}}
body{padding-left:0!important}

/* ==== Page ==== */
:root{--red:#e53935;--dark:#d32f2f;--soft:#ffcdd2;--softbg:#ffebee}
*{box-sizing:border-box}
body{margin:0;min-height:100vh;background:#fff;color:#333;font-family:'Noto Sans Thai','Noto Sans',sans-serif}
.page-title{margin:32px 0 6px;text-align:center;color:var(--dark);font-size:2.3rem;font-weight:900}
.subtitle{text-align:center;color:#888;margin:0 0 18px}
.panel{width:92vw;max-width:900px;margin:14px auto 22px;background:#fff;border:1px solid #eee;border-radius:16px;padding:16px;box-shadow:0 6px 16px rgba(0,0,0,.06)}
.panel h2{margin:4px 0 12px;color:#b71c1c}

/* ==== Form + grid ==== */
.share-form .field{margin-bottom:14px}
.share-form label{font-weight:800;color:#b71c1c}
.share-form input{width:100%;padding:10px 12px;border:2px solid #ffd3d9;border-radius:12px;font-size:1rem;background:#fff7f9;color:#b71c1c}
.hint{color:#888;font-size:.9rem;margin-top:4px}
.grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(92px,1fr))}
.cardTile{position:relative;aspect-ratio:5/7;border-radius:14px;overflow:hidden;border:2.3px solid #e57373;background:#fff;background-size:cover;background-position:center;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.08)}
/* NEW: show “lent-out” state for the sender */
.cardTile.lent{border-color:var(--soft);box-shadow:0 4px 14px rgba(255,205,210,.8)}
.cardTile .cap{position:absolute;left:6px;bottom:6px;background:#fff;color:#b71c1c;border-radius:999px;padding:2px 8px;font-weight:800;font-size:.88rem}

/* ==== Borrowed list ==== */
.borrowed-list{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
.borrowed{border:2px solid var(--soft);background:var(--softbg);border-radius:14px;padding:10px;display:flex;gap:10px;align-items:center}
.borrowed .thumb{width:64px;height:90px;border-radius:10px;background:#fff;background-size:cover;background-position:center;border:2px solid var(--soft)}
.borrowed .meta b{color:#b71c1c}
.borrowed .timer{font-weight:800;color:#b71c1c}

/* ==== Log ==== */
.log-list{display:flex;flex-direction:column;gap:10px}
.log-item{border:1px solid #eee;border-radius:12px;padding:10px 12px;display:flex;justify-content:space-between;align-items:center}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:.8rem;font-weight:800}
.badge.borrowed{background:#ffecb3;color:#b45309}
.badge.converted{background:#c8e6c9;color:#1b5e20}
.badge.sent{background:#e3f2fd;color:#0d47a1}

/* ==== Modal ==== */
.modal{position:fixed;inset:0;background:#0006;display:none;align-items:center;justify-content:center;z-index:2000}
.modal.active{display:flex}
.modal .modal-content{background:#fff;border-radius:16px;padding:20px 18px;min-width:260px;max-width:92vw;text-align:center;color:#b71c1c;box-shadow:0 10px 28px rgba(0,0,0,.25)}
.modal .ok{margin-top:12px;background:var(--red);color:#fff;border:none;border-radius:10px;padding:10px 14px;font-weight:800;cursor:pointer}
